<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />

        <meta name="author" content="Caliper Corporation" />
    
        <meta name="date" content="2021-10-07" />
    
    <title>Roadway Assignment</title>

        <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="site_libs/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <script src="site_libs/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
    <script src="site_libs/navigation-1.1/tabsets.js"></script>
    <link href="site_libs/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
    <script src="site_libs/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
    <link href="site_libs/readthedown-0.1/readthedown.css" rel="stylesheet" />
    <link href="site_libs/readthedown-0.1/readthedown_fonts_embed.css" rel="stylesheet" />
    <script src="site_libs/readthedown-0.1/readthedown.js"></script>
    <script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
    <script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    
    
    
        <link rel="stylesheet" href="styles.css" type="text/css" />
    
    <!-- tabsets -->
    <script>
      $(document).ready(function () {
	  window.buildTabsets("toc");
      });
      $(document).ready(function () {
	  $('.tabset-dropdown > .nav-tabs > li').click(function () {
	      $(this).parent().toggleClass('nav-tabs-open')
	  });
      });
    </script>

    <!-- code folding -->
    
    <!-- code download -->
    
    <!-- tabsets dropdown -->

    <style type="text/css">
      .tabset-dropdown > .nav-tabs {
	  display: inline-table;
	  max-height: 500px;
	  min-height: 44px;
	  overflow-y: auto;
	  background: white;
	  border: 1px solid #ddd;
	  border-radius: 4px;
      }
      
      .tabset-dropdown > .nav-tabs > li.active:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
	  content: "&#xe258;";
	  border: none;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs > li.active {
	  display: block;
      }

      .tabset-dropdown > .nav-tabs > li.active a {
  	  padding: 0 15px !important;
      }

      .tabset-dropdown > .nav-tabs > li > a,
      .tabset-dropdown > .nav-tabs > li > a:focus,
      .tabset-dropdown > .nav-tabs > li > a:hover {
	  border: none;
	  display: inline-block;
	  border-radius: 4px;
	  background-color: transparent;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li {
	  display: block;
	  float: none;
      }
      
      .tabset-dropdown > .nav-tabs > li {
	  display: none;
	  margin-left: 0 !important;
      }
    </style>
    
</head>

<body class="preload">

            <!-- readthedown start -->   
   <div id="content" data-toggle="wy-nav-shift">
     <nav id="nav-top" role="navigation" aria-label="top navigation">
       <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
     </nav>
         
   
      
   <div class="navbar navbar-default  navbar-fixed-top" role="navigation">
     <div class="container">
       <div class="navbar-header">
         <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
           <span class="icon-bar"></span>
           <span class="icon-bar"></span>
           <span class="icon-bar"></span>
         </button>
         <a class="navbar-brand" href="index.html">TRMG2</a>
       </div>
       <div id="navbar" class="navbar-collapse collapse">
         <ul class="nav navbar-nav">
           <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
       Databases
        
       <span class="caret"></span>
     </a>
     <ul class="dropdown-menu" role="menu">
       <li>
         <a href="tazs_and_se_data.html">TAZs and SE Data</a>
       </li>
       <li>
         <a href="networks.html">Networks</a>
       </li>
     </ul>
   </li>
   <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
       Surveys
        
       <span class="caret"></span>
     </a>
     <ul class="dropdown-menu" role="menu">
       <li>
         <a href="survey_processing.html">Household Survey</a>
       </li>
       <li>
         <a href="obs_processing.html">On-Board Survey</a>
       </li>
     </ul>
   </li>
   <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
       Resident Models
        
       <span class="caret"></span>
     </a>
     <ul class="dropdown-menu" role="menu">
       <li>
         <a href="population_synthesis.html">Synthesis</a>
       </li>
       <li>
         <a href="auto_ownership.html">Auto Ownership</a>
       </li>
       <li>
         <a href="resident_production.html">Production</a>
       </li>
       <li>
         <a href="time_of_day.html">Time of Day</a>
       </li>
       <li>
         <a href="resident_nonmotorized.html">Non-motorized</a>
       </li>
       <li>
         <a href="parking.html">Parking</a>
       </li>
       <li>
         <a href="resident_dest_choice.html">Destination Choice</a>
       </li>
       <li>
         <a href="resident_mode_choice.html">Mode Choice</a>
       </li>
       <li>
         <a href="nhb.html">Non-homebased</a>
       </li>
     </ul>
   </li>
   <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
       Other Models
        
       <span class="caret"></span>
     </a>
     <ul class="dropdown-menu" role="menu">
       <li>
         <a href="accessibility.html">Accessibility</a>
       </li>
       <li>
         <a href="university.html">University</a>
       </li>
       <li>
         <a href="airport.html">Airport</a>
       </li>
       <li>
         <a href="ieei.html">Internal/External</a>
       </li>
       <li>
         <a href="commercial_vehicles.html">Commercial Vehicles</a>
       </li>
       <li>
         <a href="assignment_roadway.html">Roadway Assignment</a>
       </li>
     </ul>
   </li>
         </ul>
         <ul class="nav navbar-nav navbar-right">
           <li>
     <a href="https://github.com/Caliper-Corporation/TRMG2">Github</a>
   </li>
         </ul>
       </div><!--/.nav-collapse -->
     </div><!--/.container -->
   </div><!--/.navbar -->
        
      <h1 class="title">Roadway Assignment</h1>
      
         <!-- readthedown authors -->
   <div id="sidebar">
    <h2><a href="#content">Roadway Assignment</a></h2>
    <div id="toc">
      <ul>
      <li><a href="#introduction">Introduction</a></li>
      <li><a href="#assignment-by-time-period">Assignment by time period</a></li>
      <li><a href="#matrix-creation">Matrix creation</a></li>
      <li><a href="#value-of-time">Value of time</a></li>
      <li><a href="#assignment-parameters">Assignment parameters</a><ul>
      <li><a href="#vdf-parameters">VDF parameters</a><ul>
      <li><a href="#alphas">Alphas</a></li>
      <li><a href="#betas">Betas</a></li>
      </ul></li>
      </ul></li>
      </ul>
    </div>
    <div id="postamble" data-toggle="wy-nav-shift" class="status">
                  <p class="author"><span class="glyphicon glyphicon-user"></span> Caliper Corporation</p>
                        <p class="date"><span class="glyphicon glyphicon-calendar"></span> October 7, 2021</p>
          </div>
   </div>
   
   
      
   
<!-- Don't indent these lines or it will mess pre blocks indentation --> 
<div id="main">
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>For a more basic introduction to highway assignment, see the <a href="https://tfresource.org/topics/Network_assignment.html">Travel Forecasting Resource</a> page on the topic. In short, roadway assignment is where the predicted trips and roadway network are combined to predict volumes and travel times.</p>
<p>TRMG2 uses a static, multi-class assignment with the following basic vehicle classes:</p>
<ul>
<li>SOV: single occupancy vehicles</li>
<li>HOV2: vehicles with two occupants</li>
<li>HOV3+: vehicles with three or more occupants</li>
<li>CV: commercial vehicles</li>
<li>SUT: single-unit trucks</li>
<li>MUT: multi-unit trucks</li>
</ul>
<p>In addition, the classes are further segmented by value of time. This is done to accurately capture toll road usage. Finally, vehicles are assigned separately by time period. More details are provided in the sections below.</p>
</div>
<div id="assignment-by-time-period" class="section level2">
<h2>Assignment by time period</h2>
<p>A defining feature of TRMG2 is the independent treatment of each time period. Traditionally, travel models used the AM period to represent both AM and PM periods. The primary benefit of this approach was reduced computational burden, and as long as the AM and PM periods were nearly symmetrical, errors introduced by this simplification were small.</p>
<p>In the Triangle, the AM and PM periods are not symmetrical. The <a href="time_of_day.html">trips-in-motion</a> analysis performed using the travel survey shows a large disparity between the peaks driven largely by non-work travel. The PM peak lasts longer, and places more demand on the transportation system. In order to capture these differences, model estimation and application must treat the PM peak separately.</p>
</div>
<div id="matrix-creation" class="section level2">
<h2>Matrix creation</h2>
<p>TRMG2 has models to predict demand for many markets including residents, commercial vehicles, university students, and external travelers. The output of these models is combined into a single trip matrix for each time period. During this process, directional and occupancy factors are applied to arrive at vehicle trip matrices in Origin-Destination format (click <a href="time_of_day.html#Directionality_factors">here</a> for resident factors).</p>
<p>A separate note about the “auto pay” mode (Uber, Lyft, etc.) is warranted. When converting person trips to vehicle trips, a person traveling alone is a single vehicle trip (1 person trip = 1 vehicle trip). However, by definition, they have a driver. This means they are eligible for any HOV lanes the region might construct in the future. For this reason, a person traveling alone is added to the HOV2 matrix while a person traveling with one or more family members is added to HOV3+.</p>
</div>
<div id="value-of-time" class="section level2">
<h2>Value of time</h2>
<p>Once trips are collapsed into the primary vehicle classes, they are assigned values of time. The base values were borrowed from the NC Statewide Model, but were then calibrated to match NC 540 traffic counts.</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:right;">
VOT ($/hr)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Autos/CV (PK)
</td>
<td style="text-align:right;">
17.11
</td>
</tr>
<tr>
<td style="text-align:left;">
Autos/CV (OP)
</td>
<td style="text-align:right;">
17.00
</td>
</tr>
<tr>
<td style="text-align:left;">
SUT
</td>
<td style="text-align:right;">
26.82
</td>
</tr>
<tr>
<td style="text-align:left;">
MUT
</td>
<td style="text-align:right;">
40.48
</td>
</tr>
<tr>
<td style="text-align:left;">
Calibration Factor
</td>
<td style="text-align:right;">
2.00
</td>
</tr>
</tbody>
</table>
</div>
<div id="assignment-parameters" class="section level2">
<h2>Assignment parameters</h2>
<p>Relevant assignment details are listed below:</p>
<ul>
<li>Algorithm: N-conjugate Frank-Wolfe</li>
<li>Volume-Delay Function (VDF): BPR</li>
<li>Relative Gap: .0001 (1e-4)</li>
<li>Maximum Iterations: 500</li>
</ul>
<div id="vdf-parameters" class="section level3 tabset">
<h3>VDF parameters</h3>
<p>The table below shows the alpha and beta values used for the BPR VDF.</p>
<div id="alphas" class="section level4">
<h4>Alphas</h4>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
HCMType
</th>
<th style="text-align:right;">
Downtown
</th>
<th style="text-align:right;">
Rural
</th>
<th style="text-align:right;">
Suburban
</th>
<th style="text-align:right;">
Urban
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Arterial
</td>
<td style="text-align:right;">
1.15
</td>
<td style="text-align:right;">
1.15
</td>
<td style="text-align:right;">
1.15
</td>
<td style="text-align:right;">
1.15
</td>
</tr>
<tr>
<td style="text-align:left;">
Collector
</td>
<td style="text-align:right;">
1.60
</td>
<td style="text-align:right;">
1.75
</td>
<td style="text-align:right;">
1.60
</td>
<td style="text-align:right;">
1.60
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeway
</td>
<td style="text-align:right;">
0.90
</td>
<td style="text-align:right;">
0.65
</td>
<td style="text-align:right;">
0.65
</td>
<td style="text-align:right;">
0.65
</td>
</tr>
<tr>
<td style="text-align:left;">
Local
</td>
<td style="text-align:right;">
2.00
</td>
<td style="text-align:right;">
4.00
</td>
<td style="text-align:right;">
1.90
</td>
<td style="text-align:right;">
1.90
</td>
</tr>
<tr>
<td style="text-align:left;">
MajorArterial
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
MajorCollector
</td>
<td style="text-align:right;">
1.25
</td>
<td style="text-align:right;">
1.25
</td>
<td style="text-align:right;">
1.25
</td>
<td style="text-align:right;">
1.25
</td>
</tr>
<tr>
<td style="text-align:left;">
MLHighway
</td>
<td style="text-align:right;">
0.90
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
0.80
</td>
</tr>
<tr>
<td style="text-align:left;">
Superstreet
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.75
</td>
</tr>
<tr>
<td style="text-align:left;">
TLHighway
</td>
<td style="text-align:right;">
1.15
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.15
</td>
<td style="text-align:right;">
1.15
</td>
</tr>
</tbody>
</table>
</div>
<div id="betas" class="section level4">
<h4>Betas</h4>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
HCMType
</th>
<th style="text-align:right;">
Betas
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Arterial
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Collector
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeway
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
Local
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
MajorArterial
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
MajorCollector
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
MLHighway
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Superstreet
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
TLHighway
</td>
<td style="text-align:right;">
5
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

   
      <br>
   <br>
   <br>
   <hr>
   <p><a href="https://www.caliper.com/">Caliper Corporation</a>, 2022</p>
   
            
      

  <script>
    $(document).ready(function () {

			
 		
	    });
  </script>



    <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
	var script = document.createElement("script");
	script.type = "text/javascript";
	script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
	document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>
  
</body>
</html>
